# Pot Play Storage - 프로덕션 환경 설정
# 이 파일을 .env로 복사하고 환경에 맞게 값을 수정하세요

# =============================================================================
# 데이터베이스 설정
# =============================================================================

# PostgreSQL 설정
# 데이터베이스 호스트 (Docker: 'postgres', 외부: IP/호스트명)
DB_HOST=postgres
# 데이터베이스 포트
DB_PORT=5432
# 데이터베이스 사용자명
DB_USER=pot_storage_user
# 데이터베이스 비밀번호 (필수 - 강력한 비밀번호 사용)
DB_PASSWORD=pot_storage_secure_pass_2025
# 데이터베이스 이름
DB_NAME=pot_storage_db
# SSL 모드 (개발: disable, 운영: require)
DB_SSL_MODE=disable

# =============================================================================
# REDIS 설정
# =============================================================================

# Redis 캐시 설정
# Redis 호스트 (Docker: 'redis', 외부: IP/호스트명)
REDIS_HOST=redis
# Redis 포트
REDIS_PORT=6379
# Redis 데이터베이스 번호
REDIS_DB=0
# Redis 비밀번호 (선택사항)
REDIS_PASSWORD=redis_secure_pass_2025

# =============================================================================
# 스토리지 설정
# =============================================================================

# 스토리지 백엔드 (local 또는 seaweedfs)
# 스토리지 타입: 'local' 또는 'seaweedfs'
STORAGE_TYPE=seaweedfs
# 로컬 스토리지 경로 (STORAGE_TYPE=local일 때만 사용)
STORAGE_LOCAL_PATH=/app/uploads

# SeaweedFS 설정
# SeaweedFS 마스터 서버 URL
SEAWEEDFS_MASTER_URL=seaweedfs-master:9333

# =============================================================================
# 보안 설정
# =============================================================================

# API 인증
# API 키 (필수 - 변경 필요)
API_KEY=pot_storage_api_key_2025

# =============================================================================
# 서버 설정
# =============================================================================

# HTTP 서버 설정
# 서버 포트
SERVER_PORT=8090
# HTTP 읽기 타임아웃
SERVER_READ_TIMEOUT=30s
# HTTP 쓰기 타임아웃
SERVER_WRITE_TIMEOUT=30s

# 애플리케이션 환경
# 애플리케이션 환경 (production/development)
APP_ENV=production
# Gin 프레임워크 모드 (release/debug)
GIN_MODE=release

# =============================================================================
# 로깅 설정
# =============================================================================

# 로그 설정
# 로그 레벨 (debug/info/warn/error)
LOG_LEVEL=info
# 로그 형식 (json/text)
LOG_FORMAT=json

# =============================================================================
# 볼륨 경로 설정 (Docker Compose)
# =============================================================================

# 데이터 저장 경로
# PostgreSQL 데이터
POSTGRES_DATA_PATH=./data/postgres
# Redis 데이터
REDIS_DATA_PATH=./data/redis
# SeaweedFS Master 데이터
SEAWEEDFS_MASTER_DATA_PATH=./data/seaweedfs/master
# SeaweedFS Volume 데이터
SEAWEEDFS_VOLUME_DATA_PATH=./data/seaweedfs/volume
# SeaweedFS Filer 데이터
SEAWEEDFS_FILER_DATA_PATH=./data/seaweedfs/filer
# 업로드 파일 저장 경로
UPLOAD_VOLUME_PATH=./uploads
# PostgreSQL 백업 경로
POSTGRES_BACKUP_PATH=./backups
# 설정 파일 경로
CONFIG_PATH=./configs

# =============================================================================
# 성능 설정
# =============================================================================

# Redis 메모리 제한
# Redis 최대 메모리 사용량
REDIS_MAX_MEMORY=256mb

# SeaweedFS 설정
# 볼륨 크기 제한 (MB)
SEAWEEDFS_VOLUME_SIZE_LIMIT=1000
# 복제 설정
SEAWEEDFS_REPLICATION=000
# 최대 볼륨 수
SEAWEEDFS_MAX_VOLUMES=100
# 컬렉션 이름
SEAWEEDFS_COLLECTION=pot-storage

# =============================================================================
# 개발/테스트 환경 설정
# =============================================================================

# 개발 환경에서는 아래 주석을 해제하여 사용
# DB_SSL_MODE=disable
# LOG_LEVEL=debug
# GIN_MODE=debug
# APP_ENV=development